{% extends "../../../partials/layout.njk" %}
{% from "govuk/components/table/macro.njk" import govukTable %}
{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "govuk/components/error-summary/macro.njk" import govukErrorSummary %}

{% set pageId = "review" %}
{% set pageTitle = applicationName + " - Home" %}
{% set mainClasses = "app-container govuk-body" %}

{% block beforeContent %}
  {% include "../../../partials/breadCrumb.njk" %}
{% endblock %}

{% block content %}

  {% if errors.length > 0 %}
    {{ govukErrorSummary({
      titleText: 'There is a problem',
      errorList: errors,
      attributes: { 'data-qa-errors': true }
    }) }}
  {% endif %}

  {% include "../../../partials/prisonerBanner.njk" %}

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      <h1 class="govuk-heading-l">Review {{ prisonerSummary.firstName | capitalize }} {{ prisonerSummary.lastName | capitalize }}'s goals</h1>
    </div>
  </div>

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">

        {{ govukTable({
          caption: 'Goal 1: ' + data.title + '',
          captionClasses: "govuk-table__caption--m",
          firstCellIsHeader: false,
          head: [
            { text: "Steps" },
            { text: "Target date" }
          ],
          rows: data.steps | stepsTableRowFilter,
          attributes: { id: 'steps-table' }
        }) }}

    <form class="form" method="post" novalidate="">
      <input type="hidden" name="_csrf" value="{{ csrfToken }}" />

      {{ govukButton({
        id: "submit-button",
        name: "submit-button",
        text: "Save to learning and work progress plan"
      }) }}

    </form>

    </div>
  </div>

{% endblock %}
