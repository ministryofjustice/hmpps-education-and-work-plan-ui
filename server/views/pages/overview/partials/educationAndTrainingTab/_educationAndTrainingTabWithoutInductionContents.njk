{#
'Education and training' tab
Contains 'Functional skills', 'In-prison qualifications and achievements', 'Qualifications and education history', and
'Training and education in prison' summary cards.
#}

{% include './_functionalSkills.njk' %}
{% include './_inPrisonQualificationsCompletedInLast12Months.njk' %}

{% set showAddEducationMessage = false %}
{% set showUnavailableMessage = false %}

{% if not education.problemRetrievingData and education.educationDto and(education.educationDto.qualifications | length > 0) and featureToggles.qualificationsEnabled %}
  {% include './_educationAndQualificationsHistoryWithoutInduction.njk' %}
  {% include './_trainingAndEducationInterestsInPrison.njk' %}
{% else %}
  {% set showAddEducationMessage = true %}
  {% if education.problemRetrievingData %}
    {% set showUnavailableMessage = true %}
  {% endif %}
{% endif %}

{% if showAddEducationMessage %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds app-u-print-full-width">
      <div class="govuk-summary-card">
        <div class="govuk-summary-card__title-wrapper">
          {% if featureToggles.qualificationsEnabled %}
            <h2 class="govuk-summary-card__title" data-qa="education-and-qualifications-history">Education and qualifications history</h2>
          {% else %}
            <h2 class="govuk-summary-card__title" data-qa="qualifications-and-education-history">Qualifications and education history</h2>
          {% endif %}
        </div>
        {% if showUnavailableMessage %}
          <h3 class="govuk-heading-s" data-qa="data-unavailable-message-header">We cannot show these details right now</h3>
          <p class="govuk-body" data-qa="data-unavailable-message-body">Reload the page or try again later. Other parts of this service may still be available.</p>
        {% else %}
          {% if featureToggles.qualificationsEnabled %}
            <div class="govuk-summary-card__content">
              <h2 class="govuk-heading-s" data-qa="educational-qualifications">Educational qualifications</h2>
              <p class="govuk-body">
                <a href="javascript:void(0);" class="govuk-link" data-qa="add-educational-qualifications">Add educational qualifications</a>
              </p>
              <hr class="govuk-section-break govuk-section-break--m govuk-section-break--visible">
              <h2 class="govuk-heading-s" data-qa="other-qualifications">Other qualifications and education history</h2>
              <p class="govuk-body" data-qa="add-education-history">
                To add education history, including vocational qualifications,
                <a href="/prisoners/{{ prisonerSummary.prisonNumber }}/create-induction/hoping-to-work-on-release" class="govuk-link" data-qa="link-to-create-induction">create a learning and work progress plan</a>
                with
                {{ prisonerSummary.firstName }}
                {{ prisonerSummary.lastName }}.
              </p>
            </div>
          {% else %}
            <div class="govuk-grid-row">
              <div class="govuk-grid-column-two-thirds app-u-print-full-width">
                <div class="govuk-summary-card__content">
                  <p class="govuk-body" data-qa="add-education-and-training">
                    To add education and training information you need to
                    <a href="/prisoners/{{ prisonerSummary.prisonNumber }}/create-induction/hoping-to-work-on-release" class="govuk-link" data-qa="link-to-create-induction">create a learning and work progress plan</a>
                    with
                    {{ prisonerSummary.firstName }}
                    {{ prisonerSummary.lastName }}.
                  </p>
                </div>
              </div>
            </div>
          {% endif %}
        {% endif %}
      </div>
    </div>
  </div>
{% endif %}