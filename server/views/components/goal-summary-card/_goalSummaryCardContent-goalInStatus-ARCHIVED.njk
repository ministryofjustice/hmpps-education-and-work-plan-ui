<div class="govuk-summary-card__content" data-qa="archived-goal">
  {% include './_goalSteps.njk' %}

  <h3 class="govuk-heading-s govuk-!-margin-bottom-1">Reason for archiving</h3>
  <p class="govuk-body" data-qa="goal-archive-reason">
    {{ params.goal.archiveReason | formatReasonToArchiveGoal }}{{ ' - ' +  params.goal.archiveReasonOther if params.goal.archiveReason === 'OTHER'}}
  </p>

  {% if params.goal.notesByType.GOAL_ARCHIVAL.length > 0 %}
    {% set goalArchivalNote = params.goal.notesByType.GOAL_ARCHIVAL[0] %}
    <h3 class="govuk-heading-s govuk-!-margin-bottom-1">Archived goal note</h3>
    <p class="govuk-body" data-qa="goal-archive-note">{{ goalArchivalNote.content }}</p>
  {% endif %}

  {% if params.goal.notesByType.GOAL.length > 0 %}
    {% set goalNote = params.goal.notesByType.GOAL[0] %}
    <details class="govuk-details app-notes-expander" data-qa="goal-notes-expander">
      <summary class="govuk-details__summary">
        <span class="govuk-details__summary-text">
          View note<span class="govuk-visually-hidden"> about this goal</span>
        </span>
      </summary>
      <div class="govuk-details__text">
        <span class="app-u-multiline-text">{{ goalNote.content }}</span>
      </div>
    </details>
  {% endif %}

  <p class="govuk-hint govuk-!-font-size-16" data-qa="goal-archived-hint">
    Archived on {{ params.goal.updatedAt | formatDate('D MMMM YYYY') }}<span class="govuk-!-display-none-print"> by {{ params.goal.updatedByDisplayName }}, {{ params.goal.updatedAtPrisonName }}</span>
  </p>
</div>
